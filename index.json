[{"categories":null,"content":" 想要完整记录下来已经很久了，一直都是零零散散的，现在记录一下吧。 除非说明，我一般都是先说文字再配图 ","date":"2024-02-18","objectID":"/linux%E8%AE%B0%E5%BD%95%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/:0:0","tags":null,"title":"Linux记录：安装系统","uri":"/linux%E8%AE%B0%E5%BD%95%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/"},{"categories":null,"content":"选择虚拟机 虚拟化程序大家也比较熟悉，基本上是VMware的VMware Workstation Pro和Oracle的VirtualBox两款软件 本记录中的虚拟化程序是VirtualBox，贴一下Oracle网站下VirtualBox的下载页面：VirtualBox下载 我也不会摆出VirtualBox的优势，因为我压根不知道。 从VMware换到VirtualBox的唯一原因是我感觉VMware占用系统资源高一些，而我的电脑性能比较差。 ","date":"2024-02-18","objectID":"/linux%E8%AE%B0%E5%BD%95%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/:1:0","tags":null,"title":"Linux记录：安装系统","uri":"/linux%E8%AE%B0%E5%BD%95%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/"},{"categories":null,"content":"安装系统 到了选择系统安装系统的时候。 如果是个人使用，我建议选择Arch Linux，这里有着非常完善的Wiki供你参考，即使不认识英文也没关系，有中文。 如果是为了学习基础的使用或者为了工作使用，那还是选择一个服务器系统吧，比如RedHat(CentOS)、Rocky Linux或者Ubuntu以及其他。从我的使用上来说的话还是建议RedHat、CentOS、Rocky Linux入手。因为他们区别不大。 从上图也能了解一些RedHat、CentOS、Rocky Linux之间的关系。我所使用的便是Rocky Linux，同样的Rocky Linux也有文档可以看：Rocky Linux Documentation，不过中文的翻译并不多，目前只有安装系统和迁移数据是中文。 ","date":"2024-02-18","objectID":"/linux%E8%AE%B0%E5%BD%95%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/:2:0","tags":null,"title":"Linux记录：安装系统","uri":"/linux%E8%AE%B0%E5%BD%95%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/"},{"categories":null,"content":"1.下载系统 系统的下载有两种方式，一是取官网下载，二是在镜像站下载，这里我选择的是官网，如果觉得下载速度慢可以选择阿里巴巴开源镜像站或其他镜像站下载 在下载页面可以看到兼容的RedHat版本和停止维护的时间 Minimal：最小化，没有常用软件包 DVD：完全，带有常用软件包，可以创建本地软件源 Boot：Live运行，没用过，不知道能不能安装，大概率不行 我的下载权重是Minimal\u003eDVD\u003eBoot，如果需要图形化界面直接选择DVD就好。 ","date":"2024-02-18","objectID":"/linux%E8%AE%B0%E5%BD%95%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/:2:1","tags":null,"title":"Linux记录：安装系统","uri":"/linux%E8%AE%B0%E5%BD%95%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/"},{"categories":null,"content":"2. 设置虚拟机 下载完成之后来开始安装吧 点击新建，输入名称，选择安装的位置，选择下载好的ISO文件位置。VirtualBox会自动判断类型和版本，记得点击跳过自动安装 如果按照图形化界面记得将内存调整到至少4GB（4096MB）大小，处理器调整到2～4 虚拟硬盘的话至少50GB，如果不够在扩容，因为我是2TB机械所以我一般100GB起步 这里可以看可以不看，反正不能操作 点击完成之后就能看到创建的系统信息了，然后我们需要点击设置，再修改一下配置 关闭音频和USB设备 完成之后点击确定在点击启动，打开虚拟机。 ","date":"2024-02-18","objectID":"/linux%E8%AE%B0%E5%BD%95%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/:2:2","tags":null,"title":"Linux记录：安装系统","uri":"/linux%E8%AE%B0%E5%BD%95%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/"},{"categories":null,"content":"3. 安装系统 选择第一项并回车 选择要使用的操作系有语言 点击时间和日期可以修改时区，中国的时区城市是上海 点击软件选择，在此处可以设置安装的软件主要是最小化安装、服务器常用软件、带图形化界面安装。因为此处使用的ISO文件是Minimal版本，所以只有最小化安装一项。 点击安装目的地，可以设置虚拟系统的分区信息 点击KDUMP。可以选择是否启用内核崩溃时的日志收集器，虚拟机没必要，如果时生产环境中就需要打开 ","date":"2024-02-18","objectID":"/linux%E8%AE%B0%E5%BD%95%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/:2:3","tags":null,"title":"Linux记录：安装系统","uri":"/linux%E8%AE%B0%E5%BD%95%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/"},{"categories":null,"content":" 提示： 本次安装的是MySQL最新的版本 使用的系统为CentOS7 每个页面的链接在文档中都有，可以直接点击跳转 RPM安装太费劲了！ RPM不会帮你解决依赖问题，所以安装是有安装顺序的QAQ。 如果有想折腾的可以参考这篇文章：LinuxCentOs7下安装MySQL8.0.26详细教程，本人亲测可行，仅供大家避雷 零、首先要通过yum安装如下命令工具 wget命令行下载工具 vim编辑器，可选下载，Linux自带的vi可以替代 yum install -y wget vim 一、导入官方仓库 ","date":"2024-02-18","objectID":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/:0:0","tags":null,"title":"RedHat系Linux通过yum安装MySQL","uri":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/"},{"categories":null,"content":"1. 打开官网，进入下载界面 下载页面链接:https://dev.mysql.com/downloads/ 可以看到蓝色框内的是官方提供的Linux软件仓库。其中红色框内的是RedHat系Linux使用的包管理器yum的仓库。 ","date":"2024-02-18","objectID":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/:1:0","tags":null,"title":"RedHat系Linux通过yum安装MySQL","uri":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/"},{"categories":null,"content":"2. 点击MySQL Yum Repository进入官方仓库 yum库链接：MySQL Yum Repository 根据安装的系统版本点击相应的download即可。 ","date":"2024-02-18","objectID":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/:2:0","tags":null,"title":"RedHat系Linux通过yum安装MySQL","uri":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/"},{"categories":null,"content":"3. 复制链接 打开终端，执行以下命令 # 下载链接对应的文件，官方库的rpm文件 wget https://dev.mysql.com/get/mysql80-community-release-el7-5.noarch.rpm # 安装下载的rpm文件 rpm -ivh mysql80-community-release-el7-5.noarch.rpm # 直接复制链接的后半部分即可 二、安装MySQL yum install -y mysql-community-server # 不知道直接写mysql会不会成功，后面我会尝试。 # 如果成功，将会修改此处的内容 三、配置MySQL ","date":"2024-02-18","objectID":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/:3:0","tags":null,"title":"RedHat系Linux通过yum安装MySQL","uri":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/"},{"categories":null,"content":"1.启动MySQL systemctl start mysqld # 如果是出现的下面一行，表示MySQL安装没有问题 Redirecting to /bin/systemctl start mysqld.service # 只有第一次启动会出现 相关命令，此部分内容可以跳过，只是对mysqld服务简单操作的罗列 # 查看MySQL服务运行状态 systemctl status mysqld # 启动MySQL systemctl start mysqld # 关闭MySQL systemctl stop mysqld # 重启MySQL systemctl restart mysqld ","date":"2024-02-18","objectID":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/:4:0","tags":null,"title":"RedHat系Linux通过yum安装MySQL","uri":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/"},{"categories":null,"content":"2.初次登录 ","date":"2024-02-18","objectID":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/:5:0","tags":null,"title":"RedHat系Linux通过yum安装MySQL","uri":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/"},{"categories":null,"content":"1. 获取MySQL随机生成的初始密码 grep 'temporary password' /var/log/mysqld.log 举例说明： # 密码在最后,每个人都是不同的 grep 'temporary password' /var/log/mysqld.log 2016-11-14T04:34:41.742516Z 1 [Note] A temporary password is generated for root@localhost: sNKz9yEdzw%/ 从执行结果来看 账户是root 主机名是localhost 初始密码是sNKz9yEdzw%/ ","date":"2024-02-18","objectID":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/:5:1","tags":null,"title":"RedHat系Linux通过yum安装MySQL","uri":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/"},{"categories":null,"content":"2. 修改密码 本处我采用的顺序 修改初始密码 修改配置文件 修改为简单密码 注意：顺序可以变换，比如先修改配置文件，再登录修改初始密码等 MySQL默认开启了validate_password插件，该插件要求密码至少包含一个大写字母，一个小写字母，一个数字和一个特殊字符，并且密码长度至少8个字符 1. 登录MySQL mysql -uroot -p # 输入上一步获取到的初始密码，进入MySQL 2. 修改密码 # 先将密码修改为Pw12345.可以在mysql终端中进行操作 ALTER user 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY 'Pw12345.'; 3. 查看当前的安全策略 show variables like 'varlidate%'; 当前生效的安全策略如下 4. 修改安全策略 修改安全策略有两种方式 直接在mysql终端中使用set进行修改 在my.cnf文件中修改。 直接在MySQL终端中使用set修改 # 修改密码策略等级为low set global validate_password.policy=low; # 密码的最小长度 set global validate_password.length=6; # 设置密码中至少要包含0个大小写字母 set global validate_password.mixed_case_count=0; # 设置密码中至少包含0个数字 set global validate_password.number_count=0; # 设置密码中至少包含0个特殊字符 set global validate_password.special_char_count=0; 在配置文件中修改密码策略 首先退出mysql终端 quit; 其次，使用shell编辑my.cnf文件 vim /etc/my.cnf # 打开后，输入i进入编辑模式 修改密码策略 validate_password.check_user_name=OFF # 是否能将密码设置成当前用户名 validate_password.length=4 # 密码的最小长度，也就是说密码长度必须大于或等于4 validate_password.mixed_case_count=0 # 密码必须包含的大写、小写字符数 validate_password.number_count=0 # 密码必须包含的数字个数 validate_password.policy=0 # 密码强度 0只检查长度 validate_password.special_char_count=0 # 密码必须包含的特殊字符个数 回到MySQL终端查看当前生效的安全策略 # 首先重启MySQL systemctl restart mysqld # 进入MySQL mysql -uroot -pPw12345. # 查看当前的安全策略 show variables like 'varlidate%'; 当前生效的安全策略如下 此时就可以设置简单密码1234了 5. 修改密码 ALTER USER 'root'@'localhost' IDENTIFIED BY '1234'; # 注意，此处的root是获取初始密码时得到的。同样localhost也是 ","date":"2024-02-18","objectID":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/:5:2","tags":null,"title":"RedHat系Linux通过yum安装MySQL","uri":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/"},{"categories":null,"content":"3. SQL客户端连接虚拟机 ","date":"2024-02-18","objectID":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/:6:0","tags":null,"title":"RedHat系Linux通过yum安装MySQL","uri":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/"},{"categories":null,"content":"1. 禁用firewall systemctl stop firewalld# 临时禁用(关闭，虚拟机重启后会启动) systemctl disable firewalld# 永久禁用(关闭开机自启动) ","date":"2024-02-18","objectID":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/:6:1","tags":null,"title":"RedHat系Linux通过yum安装MySQL","uri":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/"},{"categories":null,"content":"2. 进入MySQL操作，更新权限 use mysql;# 进入mysql数据库 select user,host from user;# 查看当前mysql的用户及权限 # 如果账户所对应的host不是'%',使用下面的命令更新 update user set host='%' where user='root'; FLUSH PRIVILEGES;# 刷新内容 完成上述内容后，使用sql客户端链接即可 总结 MySQL的在win/mac和Linux上的安装差距实在是大，差点疯掉 下载MySQL的官方库 导入官方库 下载MySQL 修改密码 连接物理机sqlyog 以上就是本内容的五个部分 警告：不知为何MySQL的安全插件validate_password消失，卸载后重新安装也没有加载成功。 另，修改密码的另一个方式就是直接卸载密码安全插件 方式如下： 卸载插件 UNINSTALL COMPONENT 'file://component_validate_password'; 安装插件 INSTALL COMPONENT 'file://component_validate_password'; ","date":"2024-02-18","objectID":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/:6:2","tags":null,"title":"RedHat系Linux通过yum安装MySQL","uri":"/redhat%E7%B3%BBlinux%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85mysql/"},{"categories":null,"content":" 本文接RedHat系Linux通过yum安装MySQL 新系统，新旅程 经朋友推荐，我接触了Rocky Linux，经过几天的使用，我将虚拟机和个人租的服务器的系统切换为了Rocky。 不得不说，Rocky Linux真的舒服，本人目前使用的是Rocky8.6。上一篇文章讲述了使用包管理器安装MySQL，本篇自然也会讲。 # 我是使用的普通用户，所以需要加sudo，root用户不需要使用sudo sudo dnf install -y @mysql # 截止到2022年11月，默认安装的是8.0.26的版本 想不到吧，就这一条，就能安装完成。下面再讲一下怎么设置。 ","date":"2024-02-17","objectID":"/rocky-install-mysql/:0:0","tags":null,"title":"Rocky Install MySQL","uri":"/rocky-install-mysql/"},{"categories":null,"content":"1. 启动服务 这个就不用说了吧？ sudo systemctl start mysqld # 启动服务 sudo systemctl enable mysqld # 开机启动服务 ","date":"2024-02-17","objectID":"/rocky-install-mysql/:1:0","tags":null,"title":"Rocky Install MySQL","uri":"/rocky-install-mysql/"},{"categories":null,"content":"2. 运行初始化脚本 sudo mysql_secure_installation 然后描述一下大致的流程，有点长，只关心有注释的地方就好 sudo mysql_secure_installation # 运行脚本 Securing the MySQL server deployment. Connecting to MySQL using a blank password. VALIDATE PASSWORD COMPONENT can be used to test passwords and improve security. It checks the strength of password and allows the users to set only those passwords which are secure enough. Would you like to setup VALIDATE PASSWORD component? # 此处是询问是否设置验证密码组件，选择y/Y会启用validate_password Press y|Y for Yes, any other key for No: no # 输入一个非y或Y的字符。 Please set the password for root here. New password: # 输入MySQL的密码，我这里输入的是123456 Re-enter new password: # 再次输入MySQL的密码 By default, a MySQL installation has an anonymous user, allowing anyone to log into MySQL without having to have a user account created for them. This is intended only for testing, and to make the installation go a bit smoother. You should remove them before moving into a production environment. # 询问是否移除匿名用户 Remove anonymous users? (Press y|Y for Yes, any other key for No) : y # 从此处开始，后续都是y也是可以的 Success. Normally, root should only be allowed to connect from 'localhost'. This ensures that someone cannot guess at the root password from the network. # 询问是否禁止远程登录MySQL Disallow root login remotely? (Press y|Y for Yes, any other key for No) : y # 这里输入Y或no都是可以的，后面会处理，我这里是输入了y Success. By default, MySQL comes with a database named 'test' that anyone can access. This is also intended only for testing, and should be removed before moving into a production environment. # 询问是否移除test数据库 Remove test database and access to it? (Press y|Y for Yes, any other key for No) : y - Dropping test database... Success. - Removing privileges on test database... Success. Reloading the privilege tables will ensure that all changes made so far will take effect immediately. # 询问是否重新加载权限表 Reload privilege tables now? (Press y|Y for Yes, any other key for No) : y Success. All done! ","date":"2024-02-17","objectID":"/rocky-install-mysql/:2:0","tags":null,"title":"Rocky Install MySQL","uri":"/rocky-install-mysql/"},{"categories":null,"content":"3. 登陆MySQL mysql -uroot -p123456 # 进入数据库 mysql: [Warning] Using a password on the command line interface can be insecure. Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 10 Server version: 8.0.26 Source distribution Copyright (c) 2000, 2021, Oracle and/or its affiliates. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. mysql\u003e 此时已经进入了MySQL，我们只需要检查一下MySQL是否允许远程连接就可以了 use mysql;# 进入mysql数据库 select user,host from user;# 查看当前mysql的用户及权限 # 因为我上面在初始化脚本中选择的是不允许远程登录MySQL，所以我是需要修改权限的 update user set host='%' where user='root'; flush privileges;# 刷新权限表 警告！此时对于MySQL而言，主机名已经由localhost更改为% ","date":"2024-02-17","objectID":"/rocky-install-mysql/:3:0","tags":null,"title":"Rocky Install MySQL","uri":"/rocky-install-mysql/"},{"categories":null,"content":"题外话 Rocky Linux是无法使用ntp进行时间同步的哦，CentOS8同样也不支持，所以还在使用CentOS系统的小伙伴们，记得看一下Chrony时间同步。 Rocky Linux可以理解为是基于CentOS8做的，对于遇到的问题，可以直接看CentOS8的解决方案。 ","date":"2024-02-17","objectID":"/rocky-install-mysql/:4:0","tags":null,"title":"Rocky Install MySQL","uri":"/rocky-install-mysql/"}]